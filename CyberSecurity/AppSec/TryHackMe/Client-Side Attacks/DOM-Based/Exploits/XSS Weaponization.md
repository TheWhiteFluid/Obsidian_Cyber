
To weaponize DOM-based XSS, we need to rely on the two conventional delivery methods of XSS payloads, namely storage and reflection. This is why DOM-based XSS, and other DOM-based attacks for that matter, are so hard to exploit. Without a proper delivery method, you are performing the attack on yourself and not a target.

To counter this, we either need the web server to store our payload for later delivery or to deliver the payload through reflection. At this point, our DOM-based XSS becomes a Stored or Reflected XSS attack.

Modern browsers have introduced **URL encoding** mechanisms, making **reflected XSS** harder to exploit when the source is the URL. This means that many traditional reflected XSS attacks fail because special characters (like `<script>`) are automatically encoded, preventing script execution.

As a result, **stored XSS** becomes a more viable attack vector, as it does not rely on URL-based reflection but rather on **persistent data stored on the server**.

Since stored XSS involves **injecting malicious scripts into stored user data**, attackers look for **sinks** where this data is later used **without sanitization or validation**. Potential sources include:
- **User profiles** (e.g., username, bio, comments, status updates).
- **Forum posts or reviews** where user content is stored and displayed.
- **Chat applications** that persist messages and display them dynamically.
- **Admin dashboards** that render user-submitted content.

 *Key Factors in Identifying Vulnerable Sinks*
- **Is the user input being properly escaped before rendering?** If not, it could lead to script execution.
- **Which function is injecting the data into the page?** If `innerHTML` or `document.write` is used, it’s a high-risk sink.
- **Is the data being processed by JavaScript after retrieval?**  If so, it could lead to **DOM-based stored XSS**.

## General Weaponization Guidelines
Oftentimes, you will find that it is easy to get the coveted `alert('XSS')` payload to work. However, this is usually where the fun ends, and if we are being honest with ourselves, we haven't actually shown impact.

