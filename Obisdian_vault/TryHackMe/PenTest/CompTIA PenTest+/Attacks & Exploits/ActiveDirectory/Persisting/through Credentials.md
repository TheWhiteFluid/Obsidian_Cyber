When discussing persistence techniques, you will use the privileged credentials to perform the persistence technique on your low-privileged credential set. Make a note of the following DA account:

Username: `Administrator`

Password: `tryhackmewouldnotguess1@`

Domain: `ZA`

The first and least reliable persistence technique that we will discuss is credentials. Several of the lateral techniques discussed in previous rooms would have resulted in the attacker gaining access to credentials. When using the word credentials, it can mean a username and password pair, but in the context of AD, even the password hash is sufficient for authentication through pass-the-hash techniques.

## DC Sync
It is not sufficient to have a single domain controller per domain in large organisations. These domains are often used in multiple regional locations, and having a single DC would significantly delay any authentication services in AD. As such, these organisations make use of multiple DCs. The question then becomes, *how is it possible for you to authenticate using the same credentials in two different offices*?*

The answer to that question is *domain replication*. Each domain controller runs a process called the *Knowledge Consistency Checker (KCC)*. The *KCC* generates a replication topology for the AD forest and automatically connects to other domain controllers *through Remote Procedure Calls (RPC)* to synchronise information. 

This includes updated information such as the user's new password and new objects such as when a new user is created. This is why you usually have to *wait a couple of minutes before you authenticate after you have changed your password* since the *DC where the password change occurred could perhaps not be the same one as the one where you are authenticating to.*

The process of replication is called *DC Synchronisation*. It is not just the DCs that can initiate replication. Accounts such as those belonging to the Domain Admins groups can also do it for legitimate purposes such as creating a new domain controller.

A popular attack to perform is a *DC Sync attack*. If we have access to an account that has domain replication permissions, we can stage a DC Sync attack to harvest credentials from a DC.

**Not All Credentials Are Created Equal**
